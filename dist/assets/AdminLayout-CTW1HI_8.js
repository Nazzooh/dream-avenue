import{y as c,r,z as u,j as a,m as g,B as b}from"./index-BgtLIF6L.js";import{D as p,a as x,M as h}from"./MobileBottomNav-BLHxEF1a.js";function f(){const{loading:s,isAdmin:i,user:t,profileError:e}=c();return{loading:s,isAdmin:i,user:t,error:e}}const y={"/admin":{title:"Dashboard",id:"dashboard"},"/admin/dashboard":{title:"Dashboard",id:"dashboard"},"/admin/packages":{title:"Packages Management",id:"packages"},"/admin/facilities":{title:"Facilities Management",id:"facilities"},"/admin/gallery":{title:"Gallery Management",id:"gallery"},"/admin/availability":{title:"Availability Management",id:"availability"},"/admin/requests":{title:"Admin Access Requests",id:"requests"},"/admin/bookings":{title:"Bookings Management",id:"bookings"}};function A({children:s}){const[i,t]=r.useState(!1),[e,o]=r.useState(!1),d=u(),{loading:l,isAdmin:m}=f();if(l)return console.log("ðŸŽ¨ AdminLayout: Loading auth state..."),a.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:"var(--bg-cream)"},children:a.jsxs("div",{className:"text-center",children:[a.jsx(g.div,{animate:{rotate:[0,360]},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!m)return console.log("ðŸŽ¨ AdminLayout: Not admin, redirecting to login..."),a.jsx(b,{to:"/admin/login",replace:!0});console.log("âœ… AdminLayout: Admin authenticated, rendering layout");const n=y[d.pathname]||{title:"Dashboard",id:"dashboard"};return a.jsxs("div",{className:`admin-container ${e?"sidebar-collapsed":""}`,children:[a.jsx(p,{currentPage:n.id,isOpen:i,onClose:()=>t(!1),isCollapsed:e,onToggleCollapse:()=>o(!e)}),a.jsxs("div",{className:"admin-main-content",children:[a.jsx(x,{pageTitle:n.title,onMenuClick:()=>t(!i)}),a.jsx("main",{className:"w-full mx-auto",style:{background:"var(--bg-cream)",padding:"clamp(1rem,3vw,3rem) clamp(1rem,4vw,3rem)",maxWidth:"1600px"},children:s})]}),a.jsx(h,{currentPage:n.id})]})}export{A};
