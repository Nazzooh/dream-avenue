import{o as c,a as l,h as y,s as i,b as g,u as n,c as o}from"./index-DCvhesIs.js";import{t as s}from"./vendor-ui-Bvf1z7Qk.js";const u=c({id:l().uuid().optional(),title:l().min(1,"Title is required"),image_url:l().url("Valid image URL is required"),category:l().optional().nullable(),description:l().optional().nullable(),event_type:l().optional().nullable(),is_featured:y().optional().default(!1),created_at:l().optional(),updated_at:l().optional()}),m=u.omit({id:!0,created_at:!0,updated_at:!0});m.partial();const p=[{id:"1",title:"Luxury Wedding Reception",image_url:"/new-gallery-images/wedding.png",category:"Weddings",description:"A luxurious wedding reception hall with crystal chandeliers and floral decorations.",event_type:"Wedding",is_featured:!0},{id:"2",title:"Corporate Conference",image_url:"/new-gallery-images/corporate.png",category:"Corporate Events",description:"Modern corporate event setup with professional lighting and seating.",event_type:"Corporate",is_featured:!0},{id:"3",title:"Gala Dinner",image_url:"/new-gallery-images/dining.png",category:"Social Gatherings",description:"Elegant dining arrangement for a gala dinner.",event_type:"Social",is_featured:!0},{id:"4",title:"Garden Party",image_url:"/new-gallery-images/outdoor.png",category:"Social Gatherings",description:"Beautiful outdoor garden party setup at sunset.",event_type:"Social",is_featured:!1}],f=async t=>{let e=[...p];return t&&(e=e.filter(a=>a.category===t)),Promise.resolve(e)},_=async t=>{const{data:e,error:a}=await i.from("gallery").insert([t]).select().single();if(a)throw new Error(a.message);return u.parse(e)},w=async(t,e)=>{const{data:a,error:d}=await i.from("gallery").update(e).eq("id",t).select().single();if(d)throw new Error(d.message);return u.parse(a)},G=async t=>{const{error:e}=await i.from("gallery").delete().eq("id",t);if(e)throw new Error(e.message)},r={all:["gallery"],lists:()=>[...r.all,"list"],list:t=>[...r.lists(),t],details:()=>[...r.all,"detail"],detail:t=>[...r.details(),t]},v=t=>g({queryKey:r.list({category:t}),queryFn:()=>f(t)}),C=()=>{const t=n();return o({mutationFn:e=>_(e),onSuccess:()=>{t.invalidateQueries({queryKey:r.all}),s.success("Gallery item created successfully")},onError:e=>{s.error(e.message||"Failed to create gallery item")}})},E=()=>{const t=n();return o({mutationFn:({id:e,data:a})=>w(e,a),onSuccess:(e,a)=>{t.invalidateQueries({queryKey:r.all}),t.invalidateQueries({queryKey:r.detail(a.id)}),s.success("Gallery item updated successfully")},onError:e=>{s.error(e.message||"Failed to update gallery item")}})},S=()=>{const t=n();return o({mutationFn:e=>G(e),onSuccess:()=>{t.invalidateQueries({queryKey:r.all}),s.success("Gallery item deleted successfully")},onError:e=>{s.error(e.message||"Failed to delete gallery item")}})};export{C as a,E as b,S as c,v as u};
